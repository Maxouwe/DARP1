classDiagram
    
    class NumericalAttribute{
        -float h
        -float queryValue
        -string attributeName
        -int numTuples
        +NumericalAttribute(string attName, float qVal)
        -createIDFScoreTable()
        +createQFIDFTable()
        -calcIDF()
    }

    class CategoricalAttribute{
        -string queryValue
        -string attributeName
        +CategoricalAttribute(string attName, string qVal)
    }

    class Query{
        +List<NumericalAttribute> numTerms
        +List<CategoricalAttribute> catTerms
        +createTables()
        +removeTables()
        +Query()
    }

    class QueryProcessor{
        -Query query
        -int k
        +QueryProcessor()
        -createQFIDFAnswerTuplesTable()
        -leavOutType()
        -addMargins()
        -increaseMargins()
        -searchJustByBrand()
        -searchJustByModel()
        -searchJustByWeakenedNumericalConstraints()
        -searchByEnvironmentFunction()
        -leaveOutModel()
        -joinTables()
        +findTopK()
    }
    class Program{
        +QueryProcessor queryprocessor
    }
    class SQLiteUtilities{
        +delegate readFunc(SQLiteDataReader reader)
        +executeSQL(SQLiteConnection connection, string sqlStatements)
        +readTuples(SQLite connection, string sqlStatement, readFunc f)
    }
    Program <.. QueryProcessor
    QueryProcessor <.. Query
    Query o-- NumericalAttribute
    Query o-- CategoricalAttribute
    NumericalAttribute ..> SQLiteUtilities

